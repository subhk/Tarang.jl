<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>I/O API · Tarang.jl</title><meta name="title" content="I/O API · Tarang.jl"/><meta property="og:title" content="I/O API · Tarang.jl"/><meta property="twitter:title" content="I/O API · Tarang.jl"/><meta name="description" content="Documentation for Tarang.jl."/><meta property="og:description" content="Documentation for Tarang.jl."/><meta property="twitter:description" content="Documentation for Tarang.jl."/><meta property="og:url" content="https://subhk.github.io/Tarang.jl/api/io/"/><meta property="twitter:url" content="https://subhk.github.io/Tarang.jl/api/io/"/><link rel="canonical" href="https://subhk.github.io/Tarang.jl/api/io/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/custom.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="Tarang.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Tarang.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Installing Tarang</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../getting_started/installation/">Installation</a></li><li><a class="tocitem" href="../../getting_started/first_steps/">First Steps with Tarang.jl</a></li><li><a class="tocitem" href="../../getting_started/running_with_mpi/">Running with MPI</a></li><li><a class="tocitem" href="../../pages/configuration/">Configuration</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials &amp; Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-3-1" type="checkbox"/><label class="tocitem" for="menuitem-3-1"><span class="docs-label">Tutorial Notebooks</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/overview/">Tutorials Overview</a></li><li><a class="tocitem" href="../../tutorials/ivp_2d_rbc/">Tutorial: 2D Rayleigh-Bénard Convection</a></li><li><a class="tocitem" href="../../tutorials/ivp_3d_turbulence/">Tutorial: 3D Turbulence Simulation</a></li><li><a class="tocitem" href="../../tutorials/boundary_conditions/">Tutorial: Boundary Conditions</a></li><li><a class="tocitem" href="../../tutorials/analysis_and_output/">Tutorial: Analysis and Output</a></li><li><a class="tocitem" href="../../tutorials/eigenvalue_problems/">Tutorial: Eigenvalue Problems</a></li><li><a class="tocitem" href="../../tutorials/surface_dynamics/">Surface and Boundary Dynamics</a></li><li><a class="tocitem" href="../../tutorials/rotating_shallow_water/">Rotating Shallow Water with Lagrangian Averaging</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Example Scripts</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/gallery/">Example Gallery</a></li><li><a class="tocitem" href="../../examples/fluid_dynamics/">Fluid Dynamics Examples</a></li><li><a class="tocitem" href="../../examples/heat_transfer/">Heat Transfer Examples</a></li><li><a class="tocitem" href="../../examples/eigenvalue_analysis/">Eigenvalue Analysis Examples</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Jupyter Notebooks</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../notebooks/rayleigh_benard/">Notebook: Rayleigh-Bénard Convection</a></li><li><a class="tocitem" href="../../notebooks/channel_flow/">Notebook: Channel Flow</a></li><li><a class="tocitem" href="../../notebooks/taylor_green/">Notebook: Taylor-Green Vortex</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">User Guide</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Core Concepts</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../pages/coordinates/">Coordinates</a></li><li><a class="tocitem" href="../../pages/bases/">Spectral Bases</a></li><li><a class="tocitem" href="../../pages/domains/">Domains</a></li><li><a class="tocitem" href="../../pages/fields/">Fields</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Problem Setup</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../pages/operators/">Operators</a></li><li><a class="tocitem" href="../../pages/problems/">Problems</a></li><li><a class="tocitem" href="../../pages/solvers/">Solvers</a></li><li><a class="tocitem" href="../../pages/timesteppers/">Time Steppers</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Physics &amp; Modeling</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../pages/stochastic_forcing/">Stochastic Forcing</a></li><li><a class="tocitem" href="../../pages/temporal_filters/">Temporal Filters for Lagrangian Averaging</a></li><li><a class="tocitem" href="../../pages/les_models/">Large Eddy Simulation (LES) Models</a></li><li><a class="tocitem" href="../../pages/gql_approximation/">Generalized Quasi-Linear (GQL) Approximation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4" type="checkbox"/><label class="tocitem" for="menuitem-4-4"><span class="docs-label">Performance &amp; Parallelism</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../pages/gpu_computing/">GPU Computing</a></li><li><a class="tocitem" href="../../pages/parallelism/">Parallelism</a></li><li><a class="tocitem" href="../../pages/optimization/">Performance Optimization</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-5" type="checkbox"/><label class="tocitem" for="menuitem-4-5"><span class="docs-label">Analysis &amp; Output</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../pages/analysis/">Analysis</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-6" type="checkbox"/><label class="tocitem" for="menuitem-4-6"><span class="docs-label">Advanced Topics</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../pages/tau_method/">The Tau Method for Boundary Conditions</a></li><li><a class="tocitem" href="../../pages/custom_operators/">Custom Operators</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox" checked/><label class="tocitem" for="menuitem-5"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-5-1" type="checkbox"/><label class="tocitem" for="menuitem-5-1"><span class="docs-label">Core</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../coordinates/">Coordinates API</a></li><li><a class="tocitem" href="../bases/">Bases API</a></li><li><a class="tocitem" href="../domains/">Domains API</a></li><li><a class="tocitem" href="../fields/">Fields API</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-2" type="checkbox"/><label class="tocitem" for="menuitem-5-2"><span class="docs-label">Operators &amp; Problems</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../operators/">Operators API</a></li><li><a class="tocitem" href="../problems/">Problems API</a></li><li><a class="tocitem" href="../solvers/">Solvers API</a></li><li><a class="tocitem" href="../timesteppers/">Timesteppers API</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-3" type="checkbox"/><label class="tocitem" for="menuitem-5-3"><span class="docs-label">GPU &amp; Performance</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../gpu/">GPU API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-4" type="checkbox" checked/><label class="tocitem" for="menuitem-5-4"><span class="docs-label">Extras</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../stochastic_forcing/">Stochastic Forcing API</a></li><li><a class="tocitem" href="../les_models/">LES Models API</a></li><li><a class="tocitem" href="../analysis/">Analysis API</a></li><li class="is-active"><a class="tocitem" href>I/O API</a><ul class="internal"><li><a class="tocitem" href="#NetCDF-Output"><span>NetCDF Output</span></a></li><li><a class="tocitem" href="#Handler-Management"><span>Handler Management</span></a></li><li><a class="tocitem" href="#File-Merging"><span>File Merging</span></a></li><li><a class="tocitem" href="#Equation-Parsing"><span>Equation Parsing</span></a></li><li><a class="tocitem" href="#Reading-NetCDF"><span>Reading NetCDF</span></a></li><li><a class="tocitem" href="#File-Structure"><span>File Structure</span></a></li><li><a class="tocitem" href="#Checkpointing"><span>Checkpointing</span></a></li><li><a class="tocitem" href="#Parallel-I/O-Modes"><span>Parallel I/O Modes</span></a></li><li><a class="tocitem" href="#File-Management"><span>File Management</span></a></li><li><a class="tocitem" href="#Performance-Tips"><span>Performance Tips</span></a></li><li><a class="tocitem" href="#See-Also"><span>See Also</span></a></li></ul></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Development</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../pages/contributing/">Contributing</a></li><li><a class="tocitem" href="../../pages/architecture/">Architecture</a></li><li><a class="tocitem" href="../../pages/testing/">Testing</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API Reference</a></li><li><a class="is-disabled">Extras</a></li><li class="is-active"><a href>I/O API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>I/O API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/subhk/Tarang.jl/blob/main/docs/src/api/io.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="I/O-API"><a class="docs-heading-anchor" href="#I/O-API">I/O API</a><a id="I/O-API-1"></a><a class="docs-heading-anchor-permalink" href="#I/O-API" title="Permalink"></a></h1><p>File input/output for simulation data.</p><h2 id="NetCDF-Output"><a class="docs-heading-anchor" href="#NetCDF-Output">NetCDF Output</a><a id="NetCDF-Output-1"></a><a class="docs-heading-anchor-permalink" href="#NetCDF-Output" title="Permalink"></a></h2><h3 id="NetCDFFileHandler"><a class="docs-heading-anchor" href="#NetCDFFileHandler">NetCDFFileHandler</a><a id="NetCDFFileHandler-1"></a><a class="docs-heading-anchor-permalink" href="#NetCDFFileHandler" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.NetCDFFileHandler"><a class="docstring-binding" href="#Tarang.NetCDFFileHandler"><code>Tarang.NetCDFFileHandler</code></a> — <span class="docstring-category">Type</span></summary><section><div><p>NetCDF File Handler matching Tarang H5FileHandler structure</p><p>Follows Tarang pattern:</p><ul><li>base<em>path/handler</em>name<em>s1/handler</em>name<em>s1</em>p0.nc for processor files</li><li>base<em>path/handler</em>name_s1.nc for gathered files</li><li>/scales/ group with time coordinates</li><li>/tasks/ group with field data</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_output.jl#L21-L29">source</a></section></details></article><h3 id="add*netcdf*handler"><a class="docs-heading-anchor" href="#add*netcdf*handler">add<em>netcdf</em>handler</a><a id="add*netcdf*handler-1"></a><a class="docs-heading-anchor-permalink" href="#add*netcdf*handler" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.add_netcdf_handler"><a class="docstring-binding" href="#Tarang.add_netcdf_handler"><code>Tarang.add_netcdf_handler</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Convenience function to create NetCDF file handler (matching Tarang API) Usage: handler = add<em>file</em>handler(&quot;snapshots&quot;, dist, vars, sim<em>dt=0.25, max</em>writes=50)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_output.jl#L1610-L1613">source</a></section></details></article><p>Create a file handler for NetCDF output.</p><hr/><h3 id="add*file*handler"><a class="docs-heading-anchor" href="#add*file*handler">add<em>file</em>handler</a><a id="add*file*handler-1"></a><a class="docs-heading-anchor-permalink" href="#add*file*handler" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.add_file_handler"><a class="docstring-binding" href="#Tarang.add_file_handler"><code>Tarang.add_file_handler</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Tarang-style helper to create a NetCDF file handler. Matches evaluator.add<em>file</em>handler(...) usage in Tarang.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_output.jl#L1621-L1624">source</a></section></details></article><p>Alternative constructor for file handlers.</p><pre><code class="language-julia hljs">handler = add_netcdf_handler(
    base_path,          # Output path/name
    dist,               # Distributor
    fields_dict;        # Dict of fields
    parallel=&quot;gather&quot;,  # I/O mode
    max_writes=100      # Files before rollover
)</code></pre><p><strong>Arguments</strong>:</p><ul><li><code>base_path</code>: Base path for output files</li><li><code>dist</code>: MPI distributor</li><li><code>fields_dict</code>: Dictionary mapping names to fields</li><li><code>parallel</code>: &quot;gather&quot; (single file) or &quot;virtual&quot; (per-process)</li><li><code>max_writes</code>: Maximum writes per file before creating new file</li></ul><p><strong>Returns</strong>: <code>NetCDFFileHandler</code></p><hr/><h3 id="add_task!"><a class="docs-heading-anchor" href="#add_task!">add_task!</a><a id="add_task!-1"></a><a class="docs-heading-anchor-permalink" href="#add_task!" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.add_task!"><a class="docstring-binding" href="#Tarang.add_task!"><code>Tarang.add_task!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Add task to handler (matching Tarang API)</p><p><strong>Example usage (matching Tarang style):</strong></p><p>snapshots = evaluator.add<em>file</em>handler(&#39;snapshots&#39;, sim<em>dt=0.25, max</em>writes=50) snapshots.add<em>task(b, name=&#39;buoyancy&#39;) snapshots.add</em>task(-d3.div(d3.skew(u)), name=&#39;vorticity&#39;)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_output.jl#L167-L174">source</a></section></details></article><p>Add a field output task.</p><hr/><h3 id="add_task"><a class="docs-heading-anchor" href="#add_task">add_task</a><a id="add_task-1"></a><a class="docs-heading-anchor-permalink" href="#add_task" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.add_task"><a class="docstring-binding" href="#Tarang.add_task"><code>Tarang.add_task</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Alias without bang for Tarang-style task addition.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_output.jl#L1629-L1631">source</a></section></details></article><p>Add a field output task (alternative syntax).</p><pre><code class="language-julia hljs">add_task!(handler, field; name=&quot;field_name&quot;)</code></pre><p>With postprocessing:</p><pre><code class="language-julia hljs">add_task!(handler, field;
    name=&quot;processed&quot;,
    postprocess=data -&gt; mean(data, dims=1)
)</code></pre><hr/><h3 id="add*profile*task!"><a class="docs-heading-anchor" href="#add*profile*task!">add<em>profile</em>task!</a><a id="add*profile*task!-1"></a><a class="docs-heading-anchor-permalink" href="#add*profile*task!" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.add_profile_task!"><a class="docstring-binding" href="#Tarang.add_profile_task!"><code>Tarang.add_profile_task!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Add a task that computes a 1D profile (mean over all but one dimension).</p><p><strong>Arguments</strong></p><ul><li><code>handler</code>: NetCDFFileHandler instance</li><li><code>field</code>: Field to compute profile of</li><li><code>dim</code>: The dimension to keep (profile along this dimension)</li><li><code>name</code>: Optional name for the output variable</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">add_profile_task!(handler, u, dim=:z, name=&quot;u_profile_z&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_output.jl#L1718-L1731">source</a></section></details></article><p>Add a task that computes mean profile over specified dimensions.</p><pre><code class="language-julia hljs"># Mean over x (dimension 1) - produces z-profile
add_profile_task!(handler, field; dims=1, name=&quot;field_profile&quot;)

# Mean over x and y
add_profile_task!(handler, field; dims=(1,2), name=&quot;field_profile_xy&quot;)</code></pre><hr/><h3 id="add*mean*task!"><a class="docs-heading-anchor" href="#add*mean*task!">add<em>mean</em>task!</a><a id="add*mean*task!-1"></a><a class="docs-heading-anchor-permalink" href="#add*mean*task!" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.add_mean_task!"><a class="docstring-binding" href="#Tarang.add_mean_task!"><code>Tarang.add_mean_task!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Add a task that computes the mean over specified dimensions.</p><p><strong>Arguments</strong></p><ul><li><code>handler</code>: NetCDFFileHandler instance</li><li><code>field</code>: Field to compute mean of</li><li><code>dims</code>: Dimensions to average over (e.g., (:x, :y) or (1, 2))</li><li><code>name</code>: Optional name for the output variable</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">add_mean_task!(handler, u, dims=(:x, :y), name=&quot;u_mean_z&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_output.jl#L1636-L1649">source</a></section></details></article><p>Add a task that computes mean values.</p><pre><code class="language-julia hljs">add_mean_task!(handler, field; name=&quot;field_mean&quot;)</code></pre><hr/><h3 id="add*slice*task!"><a class="docs-heading-anchor" href="#add*slice*task!">add<em>slice</em>task!</a><a id="add*slice*task!-1"></a><a class="docs-heading-anchor-permalink" href="#add*slice*task!" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.add_slice_task!"><a class="docstring-binding" href="#Tarang.add_slice_task!"><code>Tarang.add_slice_task!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Add a task that extracts a slice of a field.</p><p><strong>Arguments</strong></p><ul><li><code>handler</code>: NetCDFFileHandler instance</li><li><code>field</code>: Field to slice</li><li><code>slices</code>: Dictionary or named tuple specifying slice positions         e.g., Dict(:z =&gt; 0.5) or (z=0.5,) for midplane slice</li><li><code>name</code>: Optional name for the output variable</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">add_slice_task!(handler, u, slices=Dict(:z =&gt; 0.0), name=&quot;u_bottom&quot;)
add_slice_task!(handler, T, slices=(x=0.5, y=0.5), name=&quot;T_centerline&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_output.jl#L1674-L1689">source</a></section></details></article><p>Add a task that extracts a slice.</p><pre><code class="language-julia hljs"># Slice at index
add_slice_task!(handler, field; dim=1, idx=64, name=&quot;field_slice&quot;)

# Using slices dictionary
add_slice_task!(handler, field; slices=Dict(1 =&gt; 32), name=&quot;slice&quot;)</code></pre><hr/><h3 id="add*rms*task!"><a class="docs-heading-anchor" href="#add*rms*task!">add<em>rms</em>task!</a><a id="add*rms*task!-1"></a><a class="docs-heading-anchor-permalink" href="#add*rms*task!" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.add_rms_task!"><a class="docstring-binding" href="#Tarang.add_rms_task!"><code>Tarang.add_rms_task!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Add a task that computes the RMS (root mean square) over specified dimensions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_output.jl#L1784-L1786">source</a></section></details></article><p>Add a task that computes RMS (root-mean-square) values.</p><pre><code class="language-julia hljs">add_rms_task!(handler, field; name=&quot;field_rms&quot;)</code></pre><hr/><h3 id="add*variance*task!"><a class="docs-heading-anchor" href="#add*variance*task!">add<em>variance</em>task!</a><a id="add*variance*task!-1"></a><a class="docs-heading-anchor-permalink" href="#add*variance*task!" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.add_variance_task!"><a class="docstring-binding" href="#Tarang.add_variance_task!"><code>Tarang.add_variance_task!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Add a task that computes the variance over specified dimensions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_output.jl#L1760-L1762">source</a></section></details></article><p>Add a task that computes variance.</p><pre><code class="language-julia hljs">add_variance_task!(handler, field; name=&quot;field_variance&quot;)</code></pre><hr/><h3 id="add*extrema*task!"><a class="docs-heading-anchor" href="#add*extrema*task!">add<em>extrema</em>task!</a><a id="add*extrema*task!-1"></a><a class="docs-heading-anchor-permalink" href="#add*extrema*task!" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.add_extrema_task!"><a class="docstring-binding" href="#Tarang.add_extrema_task!"><code>Tarang.add_extrema_task!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Add a task that computes min/max over the domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_output.jl#L1808-L1810">source</a></section></details></article><p>Add a task that tracks minimum and maximum values.</p><pre><code class="language-julia hljs">add_extrema_task!(handler, field; name=&quot;field_extrema&quot;)</code></pre><hr/><h3 id="process!"><a class="docs-heading-anchor" href="#process!">process!</a><a id="process!-1"></a><a class="docs-heading-anchor-permalink" href="#process!" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.process!"><a class="docstring-binding" href="#Tarang.process!"><code>Tarang.process!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Process handler: write all tasks to NetCDF (matching Tarang process method)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_output.jl#L1395-L1397">source</a></section></details></article><p>Write pending data to file.</p><pre><code class="language-julia hljs">process!(handler;
    iteration=solver.iteration,
    wall_time=elapsed,
    sim_time=solver.sim_time,
    timestep=dt
)</code></pre><hr/><h2 id="Handler-Management"><a class="docs-heading-anchor" href="#Handler-Management">Handler Management</a><a id="Handler-Management-1"></a><a class="docs-heading-anchor-permalink" href="#Handler-Management" title="Permalink"></a></h2><h3 id="check_schedule"><a class="docs-heading-anchor" href="#check_schedule">check_schedule</a><a id="check_schedule-1"></a><a class="docs-heading-anchor-permalink" href="#check_schedule" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.check_schedule"><a class="docstring-binding" href="#Tarang.check_schedule"><code>Tarang.check_schedule</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Check if handler should process based on schedule (matching Tarang logic)</p><p>Always writes initial conditions (iteration=0) when any scheduling mode is configured. For subsequent iterations, uses the configured cadence.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_output.jl#L1266-L1271">source</a></section></details></article><p>Check if the handler should write based on schedule.</p><hr/><h3 id="create*current*file!"><a class="docs-heading-anchor" href="#create*current*file!">create<em>current</em>file!</a><a id="create*current*file!-1"></a><a class="docs-heading-anchor-permalink" href="#create*current*file!" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.create_current_file!"><a class="docstring-binding" href="#Tarang.create_current_file!"><code>Tarang.create_current_file!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Create NetCDF file with Tarang-style structure</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_output.jl#L1314-L1316">source</a></section></details></article><p>Create a new output file.</p><hr/><h3 id="current_path"><a class="docs-heading-anchor" href="#current_path">current_path</a><a id="current_path-1"></a><a class="docs-heading-anchor-permalink" href="#current_path" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.current_path"><a class="docstring-binding" href="#Tarang.current_path"><code>Tarang.current_path</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Get current set path following Tarang naming: handler<em>name</em>s1/</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_output.jl#L143-L145">source</a></section></details></article><p>Get the current output file path.</p><pre><code class="language-julia hljs">filepath = current_path(handler)</code></pre><hr/><h3 id="current_file"><a class="docs-heading-anchor" href="#current_file">current_file</a><a id="current_file-1"></a><a class="docs-heading-anchor-permalink" href="#current_file" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.current_file"><a class="docstring-binding" href="#Tarang.current_file"><code>Tarang.current_file</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Get current file path following Tarang naming: handler<em>name</em>s1/handler<em>name</em>s1_p0.nc</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_output.jl#L151-L153">source</a></section></details></article><p>Get the current output file (alternative to current_path).</p><pre><code class="language-julia hljs">filepath = current_file(handler)</code></pre><hr/><h3 id="get*output*files"><a class="docs-heading-anchor" href="#get*output*files">get<em>output</em>files</a><a id="get*output*files-1"></a><a class="docs-heading-anchor-permalink" href="#get*output*files" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.get_output_files"><a class="docstring-binding" href="#Tarang.get_output_files"><code>Tarang.get_output_files</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Get list of all output files created by this handler.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_output.jl#L1975-L1977">source</a></section></details></article><p>Get list of all output files created by handler.</p><hr/><h3 id="get*handler*info"><a class="docs-heading-anchor" href="#get*handler*info">get<em>handler</em>info</a><a id="get*handler*info-1"></a><a class="docs-heading-anchor-permalink" href="#get*handler*info" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.get_handler_info"><a class="docstring-binding" href="#Tarang.get_handler_info"><code>Tarang.get_handler_info</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Get metadata about the handler&#39;s output.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_output.jl#L1997-L1999">source</a></section></details></article><p>Get information about the handler state.</p><hr/><h3 id="close!"><a class="docs-heading-anchor" href="#close!">close!</a><a id="close!-1"></a><a class="docs-heading-anchor-permalink" href="#close!" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.close!"><a class="docstring-binding" href="#Tarang.close!"><code>Tarang.close!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Close handler and finalize all files.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_output.jl#L1952-L1954">source</a></section></details></article><p>Close the handler and finalize output.</p><pre><code class="language-julia hljs">close!(handler)</code></pre><hr/><h3 id="reset!"><a class="docs-heading-anchor" href="#reset!">reset!</a><a id="reset!-1"></a><a class="docs-heading-anchor-permalink" href="#reset!" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.reset!"><a class="docstring-binding" href="#Tarang.reset!"><code>Tarang.reset!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Reset handler for a new simulation run.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_output.jl#L2017-L2019">source</a></section><section><div><pre><code class="language-julia hljs">reset!(filter::ExponentialMean)</code></pre><p>Reset the filter state to zero.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/temporal_filters.jl#L525-L529">source</a></section><section><div><pre><code class="language-julia hljs">reset!(filter::ButterworthFilter)</code></pre><p>Reset the filter state to zero.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/temporal_filters.jl#L774-L778">source</a></section><section><div><pre><code class="language-julia hljs">reset!(filter::LagrangianFilter)</code></pre><p>Reset the Lagrangian filter state.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/temporal_filters.jl#L1112-L1116">source</a></section><section><div><pre><code class="language-julia hljs">reset!(model::EddyViscosityModel)</code></pre><p>Reset the eddy viscosity field to zero. GPU-aware: fill!() works for both CPU and GPU arrays.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/core/les_models.jl#L836-L841">source</a></section></details></article><p>Reset the handler state.</p><hr/><h2 id="File-Merging"><a class="docs-heading-anchor" href="#File-Merging">File Merging</a><a id="File-Merging-1"></a><a class="docs-heading-anchor-permalink" href="#File-Merging" title="Permalink"></a></h2><h3 id="NetCDFMerger"><a class="docs-heading-anchor" href="#NetCDFMerger">NetCDFMerger</a><a id="NetCDFMerger-1"></a><a class="docs-heading-anchor-permalink" href="#NetCDFMerger" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.NetCDFMerger"><a class="docstring-binding" href="#Tarang.NetCDFMerger"><code>Tarang.NetCDFMerger</code></a> — <span class="docstring-category">Type</span></summary><section><div><p>NetCDF File Merger - handles merging of per-processor files</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_merge.jl#L45-L47">source</a></section></details></article><hr/><h3 id="merge*netcdf*files"><a class="docs-heading-anchor" href="#merge*netcdf*files">merge<em>netcdf</em>files</a><a id="merge*netcdf*files-1"></a><a class="docs-heading-anchor-permalink" href="#merge*netcdf*files" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.merge_netcdf_files"><a class="docstring-binding" href="#Tarang.merge_netcdf_files"><code>Tarang.merge_netcdf_files</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">merge_netcdf_files(base_name; kwargs...)</code></pre><p>Merge per-processor NetCDF files into a single merged file.</p><p><strong>Arguments</strong></p><ul><li><code>base_name::String</code>: Base name of the handler (e.g., &quot;snapshots&quot;, &quot;analysis&quot;)</li><li><code>set_number::Int=1</code>: Set number to merge (default: 1)</li><li><code>output_name::String=&quot;&quot;</code>: Output filename (default: auto-generated)</li><li><code>merge_mode::MergeMode=RECONSTRUCT</code>: How to combine processor data</li><li><code>cleanup::Bool=false</code>: Delete source files after successful merge</li><li><code>verbose::Bool=true</code>: Print progress information</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Basic merge
merge_netcdf_files(&quot;snapshots&quot;)

# Advanced options  
merge_netcdf_files(&quot;analysis&quot;, 
                   set_number=2,
                   output_name=&quot;analysis_complete.nc&quot;, 
                   cleanup=true,
                   merge_mode=SIMPLE_CONCAT)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_merge.jl#L1682-L1707">source</a></section></details></article><p>Merge multiple NetCDF files from parallel output.</p><pre><code class="language-julia hljs">merge_netcdf_files(base_path; output_file=&quot;merged.nc&quot;)</code></pre><hr/><h3 id="merge_files!"><a class="docs-heading-anchor" href="#merge_files!">merge_files!</a><a id="merge_files!-1"></a><a class="docs-heading-anchor-permalink" href="#merge_files!" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.merge_files!"><a class="docstring-binding" href="#Tarang.merge_files!"><code>Tarang.merge_files!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Main merge function - orchestrates the entire merging process</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_merge.jl#L1574-L1576">source</a></section></details></article><hr/><h3 id="batch*merge*netcdf"><a class="docs-heading-anchor" href="#batch*merge*netcdf">batch<em>merge</em>netcdf</a><a id="batch*merge*netcdf-1"></a><a class="docs-heading-anchor-permalink" href="#batch*merge*netcdf" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.batch_merge_netcdf"><a class="docstring-binding" href="#Tarang.batch_merge_netcdf"><code>Tarang.batch_merge_netcdf</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">batch_merge_netcdf(handlers; kwargs...)</code></pre><p>Merge multiple handlers in batch mode.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Merge multiple handlers
batch_merge_netcdf([&quot;snapshots&quot;, &quot;analysis&quot;, &quot;checkpoints&quot;])

# With cleanup
batch_merge_netcdf([&quot;snapshots&quot;, &quot;analysis&quot;], cleanup=true)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_merge.jl#L1725-L1738">source</a></section></details></article><p>Merge multiple sets of parallel output files.</p><pre><code class="language-julia hljs">batch_merge_netcdf([&quot;output1&quot;, &quot;output2&quot;, &quot;output3&quot;])</code></pre><hr/><h3 id="find*mergeable*handlers"><a class="docs-heading-anchor" href="#find*mergeable*handlers">find<em>mergeable</em>handlers</a><a id="find*mergeable*handlers-1"></a><a class="docs-heading-anchor-permalink" href="#find*mergeable*handlers" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.find_mergeable_handlers"><a class="docstring-binding" href="#Tarang.find_mergeable_handlers"><code>Tarang.find_mergeable_handlers</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">find_mergeable_handlers(directory=&quot;.&quot;)</code></pre><p>Find all handlers with processor files ready for merging.</p><p>Returns a dictionary mapping handler names to available set numbers.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_merge.jl#L1777-L1783">source</a></section></details></article><p>Find handlers that can be merged.</p><hr/><h3 id="cleanup*source*files!"><a class="docs-heading-anchor" href="#cleanup*source*files!">cleanup<em>source</em>files!</a><a id="cleanup*source*files!-1"></a><a class="docs-heading-anchor-permalink" href="#cleanup*source*files!" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.cleanup_source_files!"><a class="docstring-binding" href="#Tarang.cleanup_source_files!"><code>Tarang.cleanup_source_files!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Clean up source processor files after successful merge</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/netcdf_merge.jl#L1645-L1647">source</a></section></details></article><p>Remove source files after merging.</p><hr/><h2 id="Equation-Parsing"><a class="docs-heading-anchor" href="#Equation-Parsing">Equation Parsing</a><a id="Equation-Parsing-1"></a><a class="docs-heading-anchor-permalink" href="#Equation-Parsing" title="Permalink"></a></h2><p>Internal functions for parsing equation strings.</p><h3 id="split_equation"><a class="docs-heading-anchor" href="#split_equation">split_equation</a><a id="split_equation-1"></a><a class="docs-heading-anchor-permalink" href="#split_equation" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.split_equation"><a class="docstring-binding" href="#Tarang.split_equation"><code>Tarang.split_equation</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">split_equation(equation::AbstractString)</code></pre><p>Split an equation string into left- and right-hand sides, tracking bracket depth so that keyword arguments (e.g. <span>$f(x=1)$</span>) and array indices do not trigger false splits.</p><p>Tracks parentheses <code>()</code>, square brackets <code>[]</code>, and curly braces <code>{}</code>.</p><p>Throws <code>SymbolicParsingError</code> if there is not exactly one top-level equals sign.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/parsing.jl#L7-L17">source</a></section></details></article><hr/><h3 id="split_call"><a class="docs-heading-anchor" href="#split_call">split_call</a><a id="split_call-1"></a><a class="docs-heading-anchor-permalink" href="#split_call" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.split_call"><a class="docstring-binding" href="#Tarang.split_call"><code>Tarang.split_call</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">split_call(call::AbstractString)</code></pre><p>Split a function-style string <span>$&quot;f(x, y)&quot;$</span> into a head <span>$&quot;f&quot;$</span> and a tuple of argument names. Returns <span>$(call, ())$</span> if the string does not have call syntax.</p><p>Handles nested parentheses correctly, e.g., <span>$&quot;f(g(x, y), z)&quot;$</span> splits into <span>$(&quot;f&quot;, (&quot;g(x, y)&quot;, &quot;z&quot;))$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/parsing.jl#L60-L68">source</a></section></details></article><hr/><h3 id="lambdify_functions"><a class="docs-heading-anchor" href="#lambdify_functions">lambdify_functions</a><a id="lambdify_functions-1"></a><a class="docs-heading-anchor-permalink" href="#lambdify_functions" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="Tarang.lambdify_functions"><a class="docstring-binding" href="#Tarang.lambdify_functions"><code>Tarang.lambdify_functions</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">lambdify_functions(call::AbstractString, result::AbstractString)</code></pre><p>Convert a math-style definition <span>$&quot;f(x, y)&quot;$</span>/<span>$&quot;x*y&quot;$</span> into a Julia anonymous function encoded as a string <span>$&quot;(x,y) -&gt; x*y&quot;$</span>. Returns the original result for non-call statements to preserve standard semantics.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/subhk/Tarang.jl/blob/fe58a4d7f434d44af9a12132281d65a9185c837c/src/tools/parsing.jl#L178-L184">source</a></section></details></article><hr/><h2 id="Reading-NetCDF"><a class="docs-heading-anchor" href="#Reading-NetCDF">Reading NetCDF</a><a id="Reading-NetCDF-1"></a><a class="docs-heading-anchor-permalink" href="#Reading-NetCDF" title="Permalink"></a></h2><h3 id="Using-NetCDF.jl"><a class="docs-heading-anchor" href="#Using-NetCDF.jl">Using NetCDF.jl</a><a id="Using-NetCDF.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Using-NetCDF.jl" title="Permalink"></a></h3><pre><code class="language-julia hljs">using NetCDF

# Read variable
data = NetCDF.ncread(filename, &quot;temperature&quot;)

# Read attribute
attr = NetCDF.ncgetatt(filename, &quot;NC_GLOBAL&quot;, &quot;title&quot;)

# Read time array
times = NetCDF.ncread(filename, &quot;t&quot;)</code></pre><h2 id="File-Structure"><a class="docs-heading-anchor" href="#File-Structure">File Structure</a><a id="File-Structure-1"></a><a class="docs-heading-anchor-permalink" href="#File-Structure" title="Permalink"></a></h2><h3 id="NetCDF-Layout"><a class="docs-heading-anchor" href="#NetCDF-Layout">NetCDF Layout</a><a id="NetCDF-Layout-1"></a><a class="docs-heading-anchor-permalink" href="#NetCDF-Layout" title="Permalink"></a></h3><pre><code class="nohighlight hljs">output_s1.nc
├── Dimensions
│   ├── x (128)
│   ├── z (64)
│   └── t (unlimited)
├── Coordinates
│   ├── x [128]
│   ├── z [64]
│   └── t [N_writes]
├── Variables
│   ├── temperature (t, x, z)
│   ├── velocity_x (t, x, z)
│   └── ...
└── Attributes
    ├── title
    ├── handler_name
    ├── software
    └── tarang_version</code></pre><h3 id="Global-Attributes"><a class="docs-heading-anchor" href="#Global-Attributes">Global Attributes</a><a id="Global-Attributes-1"></a><a class="docs-heading-anchor-permalink" href="#Global-Attributes" title="Permalink"></a></h3><p>Written automatically:</p><table><tr><th style="text-align: right">Attribute</th><th style="text-align: right">Description</th></tr><tr><td style="text-align: right"><code>title</code></td><td style="text-align: right">&quot;Tarang.jl simulation output&quot;</td></tr><tr><td style="text-align: right"><code>handler_name</code></td><td style="text-align: right">Handler name from path</td></tr><tr><td style="text-align: right"><code>software</code></td><td style="text-align: right">&quot;Tarang&quot;</td></tr><tr><td style="text-align: right"><code>tarang_version</code></td><td style="text-align: right">Package version</td></tr></table><h2 id="Checkpointing"><a class="docs-heading-anchor" href="#Checkpointing">Checkpointing</a><a id="Checkpointing-1"></a><a class="docs-heading-anchor-permalink" href="#Checkpointing" title="Permalink"></a></h2><h3 id="Saving-State"><a class="docs-heading-anchor" href="#Saving-State">Saving State</a><a id="Saving-State-1"></a><a class="docs-heading-anchor-permalink" href="#Saving-State" title="Permalink"></a></h3><pre><code class="language-julia hljs">function save_checkpoint(solver, filename)
    using JLD2

    state = Dict(
        &quot;sim_time&quot; =&gt; solver.sim_time,
        &quot;iteration&quot; =&gt; solver.iteration,
        &quot;dt&quot; =&gt; solver.dt,
        &quot;fields&quot; =&gt; Dict()
    )

    for (name, field) in solver.problem.fields
        Tarang.ensure_layout!(field, :c)
        state[&quot;fields&quot;][name] = copy(field.data_c)
    end

    if MPI.Comm_rank(MPI.COMM_WORLD) == 0
        @save filename state
    end
end</code></pre><h3 id="Loading-State"><a class="docs-heading-anchor" href="#Loading-State">Loading State</a><a id="Loading-State-1"></a><a class="docs-heading-anchor-permalink" href="#Loading-State" title="Permalink"></a></h3><pre><code class="language-julia hljs">function load_checkpoint!(solver, filename)
    using JLD2
    @load filename state

    solver.sim_time = state[&quot;sim_time&quot;]
    solver.iteration = state[&quot;iteration&quot;]
    solver.dt = state[&quot;dt&quot;]

    for (name, data) in state[&quot;fields&quot;]
        field = solver.problem.fields[name]
        field.data_c .= data
        field.current_layout = :c
    end
end</code></pre><h2 id="Parallel-I/O-Modes"><a class="docs-heading-anchor" href="#Parallel-I/O-Modes">Parallel I/O Modes</a><a id="Parallel-I/O-Modes-1"></a><a class="docs-heading-anchor-permalink" href="#Parallel-I/O-Modes" title="Permalink"></a></h2><h3 id="Gather-Mode"><a class="docs-heading-anchor" href="#Gather-Mode">Gather Mode</a><a id="Gather-Mode-1"></a><a class="docs-heading-anchor-permalink" href="#Gather-Mode" title="Permalink"></a></h3><pre><code class="language-julia hljs">handler = add_netcdf_handler(path, dist, fields; parallel=&quot;gather&quot;)</code></pre><ul><li>All data gathered to rank 0</li><li>Single output file</li><li>Memory limited by rank 0</li></ul><h3 id="Virtual-Mode"><a class="docs-heading-anchor" href="#Virtual-Mode">Virtual Mode</a><a id="Virtual-Mode-1"></a><a class="docs-heading-anchor-permalink" href="#Virtual-Mode" title="Permalink"></a></h3><pre><code class="language-julia hljs">handler = add_netcdf_handler(path, dist, fields; parallel=&quot;virtual&quot;)</code></pre><ul><li>Each process writes own file</li><li>Filenames: <code>output_p0.nc</code>, <code>output_p1.nc</code>, etc.</li><li>Requires post-processing to merge</li></ul><h2 id="File-Management"><a class="docs-heading-anchor" href="#File-Management">File Management</a><a id="File-Management-1"></a><a class="docs-heading-anchor-permalink" href="#File-Management" title="Permalink"></a></h2><h3 id="File-Naming"><a class="docs-heading-anchor" href="#File-Naming">File Naming</a><a id="File-Naming-1"></a><a class="docs-heading-anchor-permalink" href="#File-Naming" title="Permalink"></a></h3><p>Files are numbered sequentially:</p><pre><code class="nohighlight hljs">output_s1.nc   # First file
output_s2.nc   # After max_writes reached
output_s3.nc   # etc.</code></pre><h3 id="Merging-Files"><a class="docs-heading-anchor" href="#Merging-Files">Merging Files</a><a id="Merging-Files-1"></a><a class="docs-heading-anchor-permalink" href="#Merging-Files" title="Permalink"></a></h3><p>For post-processing virtual files:</p><pre><code class="language-julia hljs"># Merge all parallel files
merge_netcdf_files(&quot;output&quot;; output_file=&quot;output_merged.nc&quot;, cleanup=true)

# Batch merge multiple handlers
batch_merge_netcdf([&quot;snapshots&quot;, &quot;analysis&quot;, &quot;checkpoints&quot;])</code></pre><h2 id="Performance-Tips"><a class="docs-heading-anchor" href="#Performance-Tips">Performance Tips</a><a id="Performance-Tips-1"></a><a class="docs-heading-anchor-permalink" href="#Performance-Tips" title="Permalink"></a></h2><ol><li><strong>Batch writes</strong>: Don&#39;t write every iteration</li><li><strong>Use gather for small outputs</strong>: Simpler file handling</li><li><strong>Use virtual for large outputs</strong>: Better scaling</li><li><strong>Compress if needed</strong>: NetCDF supports compression</li></ol><h2 id="See-Also"><a class="docs-heading-anchor" href="#See-Also">See Also</a><a id="See-Also-1"></a><a class="docs-heading-anchor-permalink" href="#See-Also" title="Permalink"></a></h2><ul><li><a href="../../tutorials/analysis_and_output/">Analysis Tutorial</a>: Complete examples</li><li><a href="../../pages/parallelism/">Parallelism</a>: MPI considerations</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../analysis/">« Analysis API</a><a class="docs-footer-nextpage" href="../../pages/contributing/">Contributing »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and <a href="https://julialang.org">Julia</a>. Tarang.jl © 2024 Subhajit Kar.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Saturday 24 January 2026 11:22">Saturday 24 January 2026</span>. Using Julia version 1.10.10.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
